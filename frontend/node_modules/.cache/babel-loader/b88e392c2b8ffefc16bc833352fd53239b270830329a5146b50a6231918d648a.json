{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/DataSimulation/uploadData.svg';\nimport _imports_1 from '@/assets/DataSimulation/star.svg';\nimport _imports_2 from '@/assets/DataSimulation/puzzle.svg';\nimport _imports_3 from '@/assets/DataSimulation/gear.svg';\nimport _imports_4 from '@/assets/DataSimulation/uploadFile.svg';\nimport _imports_5 from '@/assets/DataSimulation/simulationResult.svg';\nimport _imports_6 from '@/assets/DataSimulation/startSimulation.svg';\nconst _hoisted_1 = {\n  class: \"data-simulation\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"data-result\"\n};\nconst _hoisted_4 = {\n  class: \"select\"\n};\nconst _hoisted_5 = {\n  class: \"input\"\n};\nconst _hoisted_6 = {\n  class: \"worksans-font\",\n  style: {\n    \"text-align\": \"center\",\n    \"align-self\": \"center\",\n    \"padding-left\": \"5%\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"select\"\n};\nconst _hoisted_8 = {\n  class: \"input\"\n};\nconst _hoisted_9 = {\n  class: \"worksans-font\",\n  style: {\n    \"text-align\": \"center\",\n    \"align-self\": \"center\",\n    \"padding-left\": \"5%\"\n  }\n};\nconst _hoisted_10 = {\n  style: {\n    \"background\": \"#081028\",\n    \"flex\": \"0.8\",\n    \"border-radius\": \"12px\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\"\n  }\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"file-name worksans-font\",\n  style: {\n    \"color\": \"#55F0BD\",\n    \"align-self\": \"center\"\n  }\n};\nconst _hoisted_12 = {\n  key: 1,\n  src: _imports_4,\n  alt: \"upload-file\",\n  style: {\n    \"width\": \"40%\"\n  }\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"data-result\"\n};\nconst _hoisted_14 = {\n  class: \"simulation-result\"\n};\nconst _hoisted_15 = {\n  class: \"simulation-value\"\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = {\n  class: \"simulation-result\"\n};\nconst _hoisted_18 = {\n  class: \"simulation-value worksans-font-green\"\n};\nconst _hoisted_19 = {\n  class: \"simulation-result\"\n};\nconst _hoisted_20 = {\n  class: \"simulation-value\"\n};\nconst _hoisted_21 = {\n  style: {\n    \"font-family\": \"'Zen Dots', sans-serif\",\n    \"font-size\": \"3vw\",\n    \"color\": \"#55F0BD\"\n  }\n};\nconst _hoisted_22 = {\n  class: \"simulation-result\",\n  style: {\n    \"flex\": \"0.3\"\n  }\n};\nconst _hoisted_23 = {\n  class: \"simulation-value\"\n};\nconst _hoisted_24 = {\n  ref: \"healthChart\",\n  class: \"simulation-health\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SelectDropdown = _resolveComponent(\"SelectDropdown\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[14] || (_cache[14] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"上传数据\",\n    style: {\n      \"width\": \"90%\",\n      \"align-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [_cache[11] || (_cache[11] = _createElementVNode(\"img\", {\n    src: _imports_1,\n    alt: \"star\",\n    style: {\n      \"width\": \"3%\",\n      \"align-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" 选择模型部分 \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString($data.selections.model.message), 1 /* TEXT */), _createCommentVNode(\" 按钮 \"), _createVNode(_component_SelectDropdown, {\n    placeholder: '搜索模型',\n    items: $data.selections.model.items,\n    \"current-page\": $data.selections.model.currentPage,\n    \"total-pages\": $data.selections.model.totalPages,\n    onSelect: _cache[0] || (_cache[0] = command => $options.onSelect('model', command)),\n    onSearch: _cache[1] || (_cache[1] = query => $options.onSearch('model', query)),\n    onPrevPage: _cache[2] || (_cache[2] = () => $options.prevPage('model')),\n    onNextPage: _cache[3] || (_cache[3] = () => $options.nextPage('model'))\n  }, null, 8 /* PROPS */, [\"items\", \"current-page\", \"total-pages\"])])]), _createElementVNode(\"div\", _hoisted_7, [_cache[12] || (_cache[12] = _createElementVNode(\"img\", {\n    src: _imports_2,\n    alt: \"puzzle\",\n    style: {\n      \"width\": \"3%\",\n      \"align-self\": \"center\",\n      \"justify-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" 选择设备部分 \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, _toDisplayString($data.selections.device.message), 1 /* TEXT */), _createCommentVNode(\" 按钮 \"), _createVNode(_component_SelectDropdown, {\n    placeholder: '搜索设备',\n    items: $data.selections.device.items,\n    \"current-page\": $data.selections.device.currentPage,\n    \"total-pages\": $data.selections.device.totalPages,\n    onSelect: _cache[4] || (_cache[4] = command => $options.onSelect('device', command)),\n    onSearch: _cache[5] || (_cache[5] = query => $options.onSearch('device', query)),\n    onPrevPage: _cache[6] || (_cache[6] = () => $options.prevPage('device')),\n    onNextPage: _cache[7] || (_cache[7] = () => $options.nextPage('device'))\n  }, null, 8 /* PROPS */, [\"items\", \"current-page\", \"total-pages\"])])]), _createElementVNode(\"div\", {\n    class: \"upload-file\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.triggerFileUpload && $options.triggerFileUpload(...args))\n  }, [_cache[13] || (_cache[13] = _createElementVNode(\"img\", {\n    src: _imports_3,\n    alt: \"puzzle\",\n    style: {\n      \"width\": \"3%\",\n      \"align-self\": \"center\",\n      \"justify-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, [_createCommentVNode(\" 动态显示文件名或 SVG 图片 \"), $data.fileName ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _toDisplayString($data.fileName), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_12))]), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"fileInput\",\n    style: {\n      \"display\": \"none\"\n    },\n    onChange: _cache[8] || (_cache[8] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)])]), $data.isStart === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_cache[20] || (_cache[20] = _createElementVNode(\"img\", {\n    src: _imports_5,\n    alt: \"计算结果\",\n    style: {\n      \"width\": \"90%\",\n      \"align-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"simulation-label worksans-font-green\"\n  }, \"器件图片\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"img\", {\n    src: $data.simulationResult?.imageUrl || '@/assets/MonitorCenter/TestImage.png',\n    alt: \"器件图片\",\n    style: {\n      \"width\": \"15%\",\n      \"align-self\": \"center\",\n      \"justify-self\": \"center\"\n    }\n  }, null, 8 /* PROPS */, _hoisted_16)])]), _createElementVNode(\"div\", _hoisted_17, [_cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n    class: \"simulation-label worksans-font-green\"\n  }, \"损伤部位\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_18, _toDisplayString($data.simulationResult?.damageLocation || '无'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [_cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n    class: \"simulation-label worksans-font-green\"\n  }, \"寿命预测\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"span\", _hoisted_21, _toDisplayString($data.simulationResult?.lifespan || '0'), 1 /* TEXT */), _cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n    style: {\n      \"color\": \"#55F0BD\",\n      \"align-self\": \"flex-end\",\n      \"margin-left\": \"2%\",\n      \"font-size\": \"1vw\"\n    }\n  }, \"天\", -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_22, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"simulation-label worksans-font-green\"\n  }, \"健康度\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"canvas\", _hoisted_24, null, 512 /* NEED_PATCH */)])])])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", {\n    class: \"start-simulation\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.startSimulation && $options.startSimulation(...args))\n  }, _cache[21] || (_cache[21] = [_createElementVNode(\"img\", {\n    src: _imports_6,\n    alt: \"startSimulation\",\n    style: {\n      \"width\": \"15%\",\n      \"align-self\": \"center\",\n      \"justify-self\": \"center\"\n    }\n  }, null, -1 /* HOISTED */)]))]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","_imports_3","_imports_4","_imports_5","_imports_6","class","style","key","src","alt","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_toDisplayString","$data","selections","model","message","_createVNode","_component_SelectDropdown","placeholder","items","currentPage","totalPages","onSelect","_cache","command","$options","onSearch","query","onPrevPage","prevPage","onNextPage","nextPage","_hoisted_7","_hoisted_8","_hoisted_9","device","onClick","args","triggerFileUpload","_hoisted_10","fileName","_hoisted_11","_hoisted_12","type","onChange","handleFileUpload","isStart","_hoisted_13","_hoisted_14","_hoisted_15","simulationResult","imageUrl","_hoisted_16","_hoisted_17","_hoisted_18","damageLocation","_hoisted_19","_hoisted_20","_hoisted_21","lifespan","_hoisted_22","_hoisted_23","_hoisted_24","startSimulation"],"sources":["E:\\Wuhuairline\\frontend\\src\\views\\DataSimulation.vue"],"sourcesContent":["<template>\r\n  <div class=\"data-simulation\">\r\n    <div class=\"content\">\r\n      <div class=\"data-result\">\r\n        <img src=\"@/assets/DataSimulation/uploadData.svg\" alt=\"上传数据\" style=\"width:90%;align-self: center\">\r\n        <div class=\"select\">\r\n          <img src=\"@/assets/DataSimulation/star.svg\" alt=\"star\" style=\"width:3%;align-self: center;\">\r\n          <!-- 选择模型部分 -->\r\n          <div class=\"input\">\r\n            <span class=\"worksans-font\" style=\"text-align: center; align-self: center; padding-left: 5%;\">{{ selections.model.message }}</span>\r\n            <!-- 按钮 -->\r\n            <SelectDropdown\r\n              :placeholder=\"'搜索模型'\"\r\n              :items=\"selections.model.items\"\r\n              :current-page=\"selections.model.currentPage\"\r\n              :total-pages=\"selections.model.totalPages\"\r\n\r\n              @select=\"(command) => onSelect('model', command)\"\r\n              @search=\"(query) => onSearch('model', query)\"\r\n              @prev-page=\"() => prevPage('model')\"\r\n              @next-page=\"() => nextPage('model')\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"select\">\r\n          <img src=\"@/assets/DataSimulation/puzzle.svg\" alt=\"puzzle\" style=\"width:3%;align-self: center;justify-self: center\">\r\n          <!-- 选择设备部分 -->\r\n          <div class=\"input\">\r\n            <span class=\"worksans-font\" style=\"text-align: center; align-self: center; padding-left: 5%;\" >{{ selections.device.message }}</span>\r\n            <!-- 按钮 -->\r\n            <SelectDropdown\r\n              :placeholder=\"'搜索设备'\"\r\n              :items=\"selections.device.items\"\r\n              :current-page=\"selections.device.currentPage\"\r\n              :total-pages=\"selections.device.totalPages\"\r\n\r\n              @select=\"(command) => onSelect('device', command)\"\r\n              @search=\"(query) => onSearch('device', query)\"\r\n              @prev-page=\"() => prevPage('device')\"\r\n              @next-page=\"() => nextPage('device')\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"upload-file\" @click=\"triggerFileUpload\">\r\n          <img src=\"@/assets/DataSimulation/gear.svg\" alt=\"puzzle\" style=\"width:3%;align-self: center;justify-self: center\">\r\n          <div style=\"background: #081028;flex:0.8;border-radius: 12px;display: flex;justify-content: center\">\r\n            <!-- 动态显示文件名或 SVG 图片 -->\r\n            <div v-if=\"fileName\" class=\"file-name worksans-font\" style=\"color: #55F0BD; align-self: center;\">\r\n              {{ fileName }}\r\n            </div>\r\n            <img v-else src=\"@/assets/DataSimulation/uploadFile.svg\" alt=\"upload-file\" style=\"width:40%;\">\r\n          </div>\r\n          <input type=\"file\" ref=\"fileInput\" style=\"display: none;\" @change=\"handleFileUpload\" />\r\n        </div>\r\n      </div>\r\n      <div v-if=\"isStart===false\" class=\"data-result\">\r\n        <img src=\"@/assets/DataSimulation/simulationResult.svg\" alt=\"计算结果\" style=\"width:90%;align-self: center\">\r\n        <div class=\"simulation-result\">\r\n          <div class=\"simulation-label worksans-font-green\">器件图片</div>\r\n          <div class=\"simulation-value\">\r\n            <img :src=\"simulationResult?.imageUrl || '@/assets/MonitorCenter/TestImage.png'\" alt=\"器件图片\" style=\"width:15%;align-self: center;justify-self: center;\">\r\n          </div>\r\n        </div>\r\n        <div class=\"simulation-result\">\r\n          <div class=\"simulation-label worksans-font-green\">损伤部位</div>\r\n          <div class=\"simulation-value worksans-font-green\">{{ simulationResult?.damageLocation || '无' }}</div>\r\n        </div>\r\n        <div class=\"simulation-result\">\r\n          <div class=\"simulation-label worksans-font-green\">寿命预测</div>\r\n          <div class=\"simulation-value\">\r\n            <span style=\"font-family: 'Zen Dots', sans-serif;font-size:3vw;color:#55F0BD;\">{{ simulationResult?.lifespan || '0' }}</span>\r\n            <span style=\"color:#55F0BD;align-self: flex-end;margin-left:2%;font-size:1vw\">天</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"simulation-result\" style=\"flex:0.3;\">\r\n          <div class=\"simulation-label worksans-font-green\">健康度</div>\r\n          <div class=\"simulation-value\">\r\n            <canvas ref=\"healthChart\" class=\"simulation-health\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"start-simulation\" @click=\"startSimulation\">\r\n      <img src=\"@/assets/DataSimulation/startSimulation.svg\" alt=\"startSimulation\" style=\"width:15%;align-self: center;justify-self: center;\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { drawHealthChart } from \"@/utils/drawHealthChart\";\r\nimport {getModels,getDevices, submitSimulationTask,getSimulationResult} from \"@/api/dataSimulationApi\";\r\nimport SelectDropdown from \"@/components/SelectDropdown.vue\";\r\nexport default {\r\n  name: 'DataSimulation',\r\n  components:{\r\n    SelectDropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      health_data: 80, // 健康度数据\r\n      models: [{id:1,name:\"模型1\"}], // 模型选项\r\n      devices: [{id:1,name:\"设备1\"}], // 设备选项\r\n      selectedModel: null, // 当前选中的模型\r\n      selectedDevice: null, // 当前选中的设备\r\n      fileName: '',\r\n      taskId: null, // 任务 ID\r\n      simulationResult: null, // 模拟结果\r\n      isLoading: false, // 是否正在加载\r\n      isStart:true,// 是否是初始化\r\n\r\n      // 通用数据结构\r\n      selections: {\r\n        model: {\r\n          items: [{ id: 1, name: \"模型1\" }], // 模型选项\r\n          selected: null, // 当前选中的模型\r\n          message: \"选择模型\",\r\n          searchQuery: '', // 搜索关键字\r\n          currentPage: 1, // 当前页码\r\n          pageSize: 5, // 每页大小\r\n          totalPages: 1, // 总页数\r\n        },\r\n        device: {\r\n          items: [{ id: 1, name: \"设备1\" }], // 设备选项\r\n          selected: null, // 当前选中的设备\r\n          message: \"选择设备\",\r\n          searchQuery: '', // 搜索关键字\r\n          currentPage: 1, // 当前页码\r\n          pageSize: 5, // 每页大小\r\n          totalPages: 1, // 总页数\r\n        },\r\n      },\r\n    };\r\n  },\r\n   async mounted() {\r\n    // 初始化加载模型和设备列表（第一页）\r\n      await this.fetchData('model');\r\n      await this.fetchData('device');\r\n\r\n  },\r\n  methods: {\r\n    // 通用方法 获取数据\r\n    async fetchData(type) {\r\n      try {\r\n        const selection = this.selections[type];\r\n        const response = await (type === 'model' ? getModels : getDevices)(\r\n            selection.currentPage,\r\n            selection.pageSize,\r\n            selection.searchQuery\r\n        );\r\n        selection.items = response[type === 'model' ? 'models' : 'devices'].map(item => ({\r\n          id: item.id,\r\n          name: item.name,\r\n        }));\r\n        selection.totalPages = Math.ceil(response.total / selection.pageSize);\r\n      } catch (error) {\r\n        console.error(`Error fetching ${type}:`, error);\r\n      }\r\n    },\r\n\r\n    // 通用方法：搜索\r\n    onSearch(type, query) {\r\n      const selection = this.selections[type];\r\n      selection.searchQuery = query;\r\n      selection.currentPage = 1; // 搜索时重置为第一页\r\n      this.fetchData(type);\r\n    },\r\n// 通用方法：翻页\r\n    prevPage(type) {\r\n      const selection = this.selections[type];\r\n      if (selection.currentPage > 1) {\r\n        selection.currentPage--;\r\n        this.fetchData(type);\r\n      }\r\n    },\r\n\r\n    nextPage(type) {\r\n      const selection = this.selections[type];\r\n      if (selection.currentPage < selection.totalPages) {\r\n        selection.currentPage++;\r\n        this.fetchData(type);\r\n      }\r\n    },\r\n\r\n    // 通用方法：选择\r\n    onSelect(type, command) {\r\n      const selection = this.selections[type];\r\n      selection.selected = command;\r\n      selection.message = command.name;\r\n      console.log(selection);\r\n      console.log(`Selected ${type}:`, command);\r\n    },\r\n\r\n\r\n    //   // 获取模型列表\r\n    // async fetchModels() {\r\n    //   try {\r\n    //     const response = await getModels(this.modelCurrentPage, this.modelPageSize, this.modelSearchQuery);\r\n    //     this.models = response.models.map(model => ({ id: model.id, name: model.name }));\r\n    //     this.modelTotalPages = Math.ceil(response.total / this.modelPageSize);\r\n    //   } catch (error) {\r\n    //     console.error('Error fetching models:', error);\r\n    //   }\r\n    // },\r\n    //   // 获取设备列表\r\n    // async fetchDevices() {\r\n    //   try {\r\n    //     const response = await getDevices(this.deviceCurrentPage, this.devicePageSize, this.deviceSearchQuery);\r\n    //     this.devices = response.devices.map(device => ({ id: device.id, name: device.name }));\r\n    //     this.deviceTotalPages = Math.ceil(response.total / this.devicePageSize);\r\n    //   } catch (error) {\r\n    //     console.error('Error fetching devices:', error);\r\n    //   }\r\n    // },\r\n    //\r\n    //   // 模型搜索\r\n    // onModelSearch(query) {\r\n    //   this.modelSearchQuery=query;\r\n    //   this.modelCurrentPage = 1; // 搜索时重置为第一页\r\n    //   this.fetchModels();\r\n    // },\r\n    //\r\n    // // 设备搜索\r\n    // onDeviceSearch(query) {\r\n    //   this.deviceSearchQuery=query;\r\n    //   this.deviceCurrentPage = 1; // 搜索时重置为第一页\r\n    //   this.fetchDevices();\r\n    // },\r\n    //\r\n    //   // 模型翻页\r\n    // prevModelPage() {\r\n    //   console.log(this.modelCurrentPage);\r\n    //   if (this.modelCurrentPage > 1) {\r\n    //     this.modelCurrentPage--;\r\n    //     this.fetchModels();\r\n    //   }\r\n    // },\r\n    // nextModelPage() {\r\n    //   if (this.modelCurrentPage < this.modelTotalPages) {\r\n    //     this.modelCurrentPage++;\r\n    //     this.fetchModels();\r\n    //   }\r\n    // },\r\n    //\r\n    //   // 设备翻页\r\n    // prevDevicePage() {\r\n    //   if (this.deviceCurrentPage > 1) {\r\n    //     this.deviceCurrentPage--;\r\n    //     this.fetchDevices();\r\n    //   }\r\n    // },\r\n    // nextDevicePage() {\r\n    //   if (this.deviceCurrentPage < this.deviceTotalPages) {\r\n    //     this.deviceCurrentPage++;\r\n    //     this.fetchDevices();\r\n    //   }\r\n    // },\r\n    //\r\n    //\r\n    // onModelChange(command) {\r\n    //\r\n    //   this.selectedModel = command;\r\n    //   this.modelMessage = command.name;\r\n    //   console.log('Selected Model:', this.selectedModel);\r\n    //\r\n    //\r\n    // },\r\n    // onDeviceChange(command) {\r\n    //\r\n    //   this.selectedDevice = command;\r\n    //   this.equipmentMessage = command.name;\r\n    //   console.log('Selected Device:', this.selectedDevice);\r\n    //\r\n    // },\r\n    triggerFileUpload() {\r\n      this.$refs.fileInput.click(); // 触发文件选择\r\n    },\r\n    handleFileUpload(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        console.log('Selected File:', file);\r\n        this.fileName = file.name;\r\n      }\r\n    },\r\n\r\n    // async startSimulation() {\r\n    //   if (!this.selectedModel || !this.selectedDevice || !this.fileName) {\r\n    //     alert('请选择模型、设备并上传文件');\r\n    //     return;\r\n    //   }\r\n    //\r\n    //   this.isLoading = true;\r\n    //   this.isStart=false;\r\n    //\r\n    //   try {\r\n    //     // 提交模拟任务\r\n    //     const taskResponse = await submitSimulationTask(\r\n    //       this.selectedModel.id,\r\n    //       this.selectedDevice.id,\r\n    //       this.$refs.fileInput.files[0]\r\n    //     );\r\n    //     this.taskId = taskResponse.taskId;\r\n    //\r\n    //     // 获取模拟结果\r\n    //     const resultResponse = await getSimulationResult(this.taskId);\r\n    //     this.simulationResult = resultResponse;\r\n    //\r\n    //     // 更新健康度图表\r\n    //     if (this.$refs.healthChart) {\r\n    //       drawHealthChart(this.$refs.healthChart, resultResponse.healthIndex);\r\n    //     }\r\n    //   } catch (error) {\r\n    //     console.error('Error during simulation:', error);\r\n    //   } finally {\r\n    //     this.isLoading = false;\r\n    //   }\r\n    // },\r\n\r\n    async startSimulation() {\r\n      const {model, device} = this.selections;\r\n      if (!model.selected || !device.selected || !this.fileName) {\r\n        alert('请选择模型、设备并上传文件');\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n      this.isStart = false;\r\n\r\n      try {\r\n        const taskResponse = await submitSimulationTask(\r\n            model.selected.id,\r\n            device.selected.id,\r\n            this.$refs.fileInput.files[0]\r\n        );\r\n        this.taskId = taskResponse.taskId;\r\n\r\n        const resultResponse = await getSimulationResult(this.taskId);\r\n        this.simulationResult = resultResponse;\r\n\r\n        if (this.$refs.healthChart) {\r\n          drawHealthChart(this.$refs.healthChart, resultResponse.healthIndex);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error during simulation:', error);\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/assets/DataSimulation/DataSimulationStyle.css';\r\n\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}